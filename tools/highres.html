<!doctype html>
<html>
  <head>
    <title>bwbw223's bitmap embedder</title>
  </head>
  <body>
    <h1>bwbw223's Bitmap Embedder</h1>
    <input type="file" accept="image/*" id="file">
    <input value="embed" type="button" onclick="embed()"><br />
    Image not uploading?  Try putting it through <a href="https://compressor.io/compress">this</a> first.  For best results, I recomend only uploading images under 2MB.
    <script>
      var download = function(url) {
        window.location.href = url;
      };
      var embed = function() {
        var reader = new window.FileReader();
        reader.readAsDataURL(document.getElementById("file").files[0]);
        reader.onloadend = function() {
          output = '<svg width="480" height="360" xmlns="http://www.w3.org/2000/svg"><image xmlns="http://www.w3.org/2000/svg" id="image1" x="0" y="0" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="' +
          reader.result + '"/></svg>';                
          output = 'data:binary/octet-stream,' + encodeURIComponent(output);
          download(output)
        }
      };
    </script>
  </body>
</html>
